(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{31:function(e,n,t){e.exports=t(78)},77:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),a=t(28),c=t.n(a),u=t(2),o=t(1),s=t(7),d=t(29),f=t.n(d),l=t(30),p=t.n(l),x="987654321".split("").map((function(e){return Number(e)})).map((function(e){return[e,e,e,e]})).flat(),v=function(e){return e.filter((function(n,t){return!e[t+1]||n===e[t+1]+1})).length===e.length},m=function(e,n,t){var i=t.isEmpty?t.pileIndex:e.findIndex((function(e){return e.find((function(e){return e.index===t.index}))}));return e.map((function(r,a){var c=e.findIndex((function(e){return e.find((function(e){return e.index===n.index}))})),s=e[c],d=s.findIndex((function(e){return e.index===n.index})),f=s.length-d,l=1===f&&!n.isCheat&&!t.isCheat,p=n.value!==t.value-1&&!t.isEmpty,x=s.slice(d,d+f),m=t.isEmpty||!t.isCheat&&v([t.value].concat(Object(o.a)(x.map((function(e){return e.value})))));if(c===i)return r;if(m||l){if(a===c)return r.slice(0,r.length-f);if(a===i)return[].concat(Object(o.a)(r),Object(o.a)(x.map((function(e){return Object(u.a)({},e,{isCheat:p})}))))}return r}))};function b(e,n,t){var i=!1;if(e){var r=e.index;i=r===n.index;var a=t.find((function(e){return e.find((function(e){return e.index===r}))}));i=a.findIndex((function(e){return e.index===r}))<=a.findIndex((function(e){return e.index===n.index}))}return i}var I=function(e,n){var t=n.findIndex((function(n){return n.find((function(n){return n.index===e.index}))})),i=n[t],r=i.findIndex((function(n){return n.index===e.index}));return v(Object(o.a)(i.map((function(e){return e.value})).slice(r,i.length)))},h=function(e,n){Object(i.useEffect)((function(){return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}}),[e,n])},j=t(6),O=function(e){var n=e.card,t=e.onMouseDown,i=e.onMouseUp,a=e.cursorState,c=a.isPressed&&a.pressedIndex===n.deckIndex&&n.canMove&&n.isActive,u=window.innerHeight/12,o=window.innerWidth/7,s=c?{y:a.mouseY,x:a.mouseX,z:99}:{y:Object(j.spring)(u+n.cardPileIndex*u),x:Object(j.spring)(o/1.8+n.pileIndex*o),z:1};return r.a.createElement(j.Motion,{key:n.index,style:s},(function(e){var a=e.x,u=e.y,o=e.z;return r.a.createElement("div",{onPointerDown:t.bind(null,n,a,u),onPointerUp:i.bind(null,n,a,u),className:"card spades rank".concat(n.value," ").concat(n.isCheat?"is-cheat":""," ").concat(n.isActive?"is-active":""," ").concat(n.isEmpty?"empty":""),style:{transform:"translate3d(".concat(a,"px, ").concat(u,"px, 0)"),zIndex:o,pointerEvents:c?"none":"all"}},r.a.createElement("div",{className:"face"}))}))},E=(t(77),{startX:0,startY:0,mouseY:0,mouseX:0});var g=function(){var e=Object(i.useState)(null),n=Object(s.a)(e,2),t=n[0],a=n[1],c=Object(i.useState)(E),d=Object(s.a)(c,2),l=d[0],v=d[1],j=Object(i.useState)(Object(o.a)(p()(f()(x).map((function(e,n){return{value:e,index:n}})),6))),g=Object(s.a)(j,2),y=g[0],w=g[1],M=y.flat(),Y=function(e,n,i,r){var c=r.pageX,u=r.pageY;t?(w(m(y,t,e)),a(null)):e.isActive||!e.canMove||!t&&e.isEmpty?a(null):a(e),v({topDeltaY:u-i,topDeltaX:c-n,mouseY:i,mouseX:n,startX:c,startY:u,isPressed:!0,pressedIndex:e.deckIndex})},X=function(e,n,i,r){t&&e&&w(m(y,t,e))};return h("pointerup",(function(e){var n=Math.abs(l.startX-e.pageX),i=Math.abs(l.startY-e.pageY);t&&l.pressedIndex&&n<10&&i<10||a(null),v(Object(u.a)({},l,{isPressed:!1,pressedIndex:null,topDeltaY:0}))})),h("pointermove",(function(e){var n=e.pageY,t=e.pageX,i=l.isPressed,r=l.topDeltaY,a=l.topDeltaX;if(i){var c=n-r,o=t-a;v(Object(u.a)({},l,{mouseY:c,mouseX:o}))}})),y.map((function(e,n){return 0===e.length?r.a.createElement(O,{key:"pile-".concat(n),card:{cardPileIndex:0,pileIndex:n,isEmpty:!0,canMove:!0},onMouseUp:X,cursorState:l,onMouseDown:Y}):e.map((function(e,i){return r.a.createElement(O,{key:"card-".concat(e.index),card:Object(u.a)({},e,{isActive:b(t,e,y),canMove:I(e,y),deckIndex:M.findIndex((function(n){return n.index===e.index})),pileIndex:n,cardPileIndex:i}),cursorState:l,onMouseUp:X,onMouseDown:Y})}))}))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.2495f54b.chunk.js.map