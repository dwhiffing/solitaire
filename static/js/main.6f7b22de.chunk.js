(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{36:function(e,n,t){e.exports=t(75)},74:function(e,n,t){},75:function(e,n,t){"use strict";t.r(n);var i=t(1),a=t.n(i),r=t(29),c=t.n(r),u=t(5),o=t(3),l=t(34),d=t(30),f=t.n(d),s=t(31),v=t.n(s),m="987654321".split("").map((function(e){return Number(e)})).map((function(e){return[e,e,e,e]})).flat(),p=function(e){return e.filter((function(n,t){return!e[t+1]||n===e[t+1]+1})).length===e.length},x=function(e,n,t){var i=t.isEmpty?t.pileIndex:e.findIndex((function(e){return e.find((function(e){return e.index===t.index}))}));return e.map((function(a,r){var c=e.findIndex((function(e){return e.find((function(e){return e.index===n.index}))})),o=e[c],d=o.findIndex((function(e){return e.index===n.index})),f=o.length-d,s=1===f&&!n.isCheat&&!t.isCheat,v=n.value!==t.value-1&&!t.isEmpty,m=o.slice(d,d+f);if(t.isEmpty||!t.isCheat&&p([t.value].concat(Object(u.a)(m.map((function(e){return e.value})))))||s){if(r===c)return a.slice(0,a.length-f);if(console.log(r,t,i),r===i)return[].concat(Object(u.a)(a),Object(u.a)(m.map((function(e){return Object(l.a)({},e,{isCheat:v})}))))}return a}))},h=t(78),b=t(79),E=function(e){var n=e.isActive,t=e.isCheat,i=e.canMove,r=e.value,c=e.index,u=e.onDrag,l=e.onClick,d=Object(h.a)({item:{id:c,type:"card"},end:function(e,n){if(n.didDrop()){var i=n.getDropResult();u({value:r,index:c,isCheat:t},i)}}}),f=Object(o.a)(d,2)[1],s=Object(b.a)({accept:"card",drop:function(){return{index:c,value:r,isCheat:t}}}),v=Object(o.a)(s,2)[1];return a.a.createElement("div",{className:"card-container",ref:f},a.a.createElement("div",{className:"card spades rank".concat(r," ").concat(t?"is-cheat":""," ").concat(n?"is-active":""),onClick:function(){return l({value:r,index:c,isCheat:t,canMove:i})},style:{position:"relative"}},a.a.createElement("div",{className:"face"}),a.a.createElement("div",{ref:v,style:{position:"absolute",top:0,left:0,right:0,bottom:0}})))},y=function(e){var n=e.index,t=e.onClick,i=Object(b.a)({accept:"card",drop:function(){return{pileIndex:n,isEmpty:!0,canMove:!0}}}),r=Object(o.a)(i,2)[1];return a.a.createElement("div",{style:{height:25}},a.a.createElement("div",{ref:r,className:"card empty",onClick:function(){return t({pileIndex:n,canMove:!0,isEmpty:!0})}}))};t(74);var j=function(){var e=Object(i.useState)(null),n=Object(o.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(Object(u.a)(v()(f()(m).map((function(e,n){return{value:e,index:n}})),6))),l=Object(o.a)(c,2),d=l[0],s=l[1],h=function(e,n){e&&n&&e.index!==n.index&&s(x(d,e,n))},b=function(e){if(!(!e.canMove||t&&e.isEmpty)){if(!t)return r(e);if(e.index===t.index)return r(null);s(x(d,t,e)),r(null)}};return a.a.createElement("div",{style:{margin:"0 auto",display:"flex"}},d.map((function(e,n){return a.a.createElement("div",{key:"pile-".concat(n),style:{display:"flex",margin:5,flexDirection:"column"}},0===e.length?a.a.createElement(y,{index:n,onClick:b}):e.map((function(n,i){return a.a.createElement(E,{key:"card-".concat(n.index),isActive:C(t,n,d),canMove:p(Object(u.a)(e.map((function(e){return e.value})).slice(i,e.length))),onClick:b,onDrag:h,value:n.value,index:n.index,isCheat:n.isCheat})})))})))};function C(e,n,t){var i=!1;if(e){var a=e.index;i=a===n.index;var r=t.find((function(e){return e.find((function(e){return e.index===a}))}));i=r.findIndex((function(e){return e.index===a}))<=r.findIndex((function(e){return e.index===n.index}))}return i}var O=t(33),g=t(77);c.a.render(a.a.createElement(g.a,{backend:O.a},a.a.createElement(j,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.6f7b22de.chunk.js.map