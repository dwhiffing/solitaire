(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{31:function(e,n,t){e.exports=t(78)},77:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),a=t(28),u=t.n(a),c=t(2),o=t(1),s=t(7),d=t(29),f=t.n(d),l=t(30),p=t.n(l),x="987654321".split("").map((function(e){return Number(e)})).map((function(e){return[e,e,e,e]})).flat(),m=function(e){return e.filter((function(n,t){return!e[t+1]||n===e[t+1]+1})).length===e.length},v=function(e,n,t){var i=t.isEmpty?t.pileIndex:e.findIndex((function(e){return e.find((function(e){return e.index===t.index}))}));return e.map((function(r,a){var u=e.findIndex((function(e){return e.find((function(e){return e.index===n.index}))})),s=e[u],d=s.findIndex((function(e){return e.index===n.index})),f=s.length-d,l=1===f&&!n.isCheat&&!t.isCheat,p=n.value!==t.value-1&&!t.isEmpty,x=s.slice(d,d+f),v=t.isEmpty||!t.isCheat&&m([t.value].concat(Object(o.a)(x.map((function(e){return e.value})))));if(u===i)return r;if(v||l){if(a===u)return r.slice(0,r.length-f);if(a===i)return[].concat(Object(o.a)(r),Object(o.a)(x.map((function(e){return Object(c.a)({},e,{isCheat:p})}))))}return r}))};function h(e,n,t){var i=!1;if(e){var r=e.index;i=r===n.index;var a=t.find((function(e){return e.find((function(e){return e.index===r}))}));i=a.findIndex((function(e){return e.index===r}))<=a.findIndex((function(e){return e.index===n.index}))}return i}var b=function(e,n){var t=n.findIndex((function(n){return n.find((function(n){return n.index===e.index}))})),i=n[t],r=i.findIndex((function(n){return n.index===e.index}));return m(Object(o.a)(i.map((function(e){return e.value})).slice(r,i.length)))},I=function(e,n){Object(i.useEffect)((function(){return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}}),[e,n])},j=t(6),O=function(e){var n=e.card,t=e.onMouseDown,i=e.onMouseUp,a=e.onTouchStart,u=e.cursorState,c=u.isPressed&&u.pressedIndex===n.deckIndex&&n.canMove&&n.isActive,o=window.innerHeight/12,s=window.innerWidth/7,d=c?{y:u.mouseY,x:u.mouseX,z:99}:{y:Object(j.spring)(o+n.cardPileIndex*o),x:Object(j.spring)(s/1.8+n.pileIndex*s),z:1};return r.a.createElement(j.Motion,{key:n.index,style:d},(function(e){var u=e.x,o=e.y,s=e.z;return r.a.createElement("div",{onMouseDown:t.bind(null,n,u,o),onMouseUp:i.bind(null,n,u,o),onTouchStart:a.bind(null,n,u,o),className:"card spades rank".concat(n.value," ").concat(n.isCheat?"is-cheat":""," ").concat(n.isActive?"is-active":""," ").concat(n.isEmpty?"empty":""),style:{transform:"translate3d(".concat(u,"px, ").concat(o,"px, 0)"),zIndex:s,pointerEvents:c?"none":"all"}},r.a.createElement("div",{className:"face"}))}))},E=(t(77),{startX:0,startY:0,mouseY:0,mouseX:0});var g=function(){var e=Object(i.useState)(null),n=Object(s.a)(e,2),t=n[0],a=n[1],u=Object(i.useState)(E),d=Object(s.a)(u,2),l=d[0],m=d[1],j=Object(i.useState)(Object(o.a)(p()(f()(x).map((function(e,n){return{value:e,index:n}})),6))),g=Object(s.a)(j,2),y=g[0],M=g[1],w=y.flat(),Y=function(e,n,i,r){var u=r.pageX,c=r.pageY;t?(M(v(y,t,e)),a(null)):e.isActive||!e.canMove||!t&&e.isEmpty?a(null):a(e),m({topDeltaY:c-i,topDeltaX:u-n,mouseY:i,mouseX:n,startX:u,startY:c,isPressed:!0,pressedIndex:e.deckIndex})},X=function(e){var n=e.pageY,t=e.pageX,i=l.isPressed,r=l.topDeltaY,a=l.topDeltaX;if(i){var u=n-r,o=t-a;m(Object(c.a)({},l,{mouseY:u,mouseX:o}))}},D=function(e){var n=Math.abs(l.startX-e.pageX),i=Math.abs(l.startY-e.pageY);t&&l.pressedIndex&&n<10&&i<10||a(null),m(Object(c.a)({},l,{isPressed:!1,pressedIndex:null,topDeltaY:0}))},S=function(e,n,t,i){Y(e,n,t,i.touches[0])},k=function(e,n,i,r){t&&e&&M(v(y,t,e))};return I("mouseup",D),I("touchmove",(function(e){e.preventDefault(),X(e.touches[0])})),I("touchend",D),I("mousemove",X),y.map((function(e,n){return 0===e.length?r.a.createElement(O,{key:"pile-".concat(n),card:{cardPileIndex:0,pileIndex:n,isEmpty:!0,canMove:!0},onMouseUp:k,cursorState:l,onTouchStart:S,onMouseDown:Y}):e.map((function(e,i){return r.a.createElement(O,{key:"card-".concat(e.index),card:Object(c.a)({},e,{isActive:h(t,e,y),canMove:b(e,y),deckIndex:w.findIndex((function(n){return n.index===e.index})),pileIndex:n,cardPileIndex:i}),cursorState:l,onMouseUp:k,onMouseDown:Y,onTouchStart:S})}))}))};u.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.48db393e.chunk.js.map