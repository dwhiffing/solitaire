(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{31:function(e,n,t){e.exports=t(78)},77:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),a=t(28),c=t.n(a),u=t(2),o=t(1),d=t(7),s=t(29),l=t.n(s),f=t(30),p=t.n(f),x="987654321".split("").map((function(e){return Number(e)})).map((function(e){return[e,e,e,e]})).flat(),m=function(e){return e.filter((function(n,t){return!e[t+1]||n===e[t+1]+1})).length===e.length},v=function(e,n,t){var i=t.isEmpty?t.pileIndex:e.findIndex((function(e){return e.find((function(e){return e.index===t.index}))}));return e.map((function(r,a){var c=e.findIndex((function(e){return e.find((function(e){return e.index===n.index}))})),d=e[c],s=d.findIndex((function(e){return e.index===n.index})),l=d.length-s,f=1===l&&!n.isCheat&&!t.isCheat,p=n.value!==t.value-1&&!t.isEmpty,x=d.slice(s,s+l),v=t.isEmpty||!t.isCheat&&m([t.value].concat(Object(o.a)(x.map((function(e){return e.value})))));if(c===i)return r;if(v||f){if(a===c)return r.slice(0,r.length-l);if(a===i)return[].concat(Object(o.a)(r),Object(o.a)(x.map((function(e){return Object(u.a)({},e,{isCheat:p})}))))}return r}))};function b(e,n,t){var i=!1;if(e){var r=e.index;i=r===n.index;var a=t.find((function(e){return e.find((function(e){return e.index===r}))}));i=a.findIndex((function(e){return e.index===r}))<=a.findIndex((function(e){return e.index===n.index}))}return i}var I=function(e,n){var t=n.findIndex((function(n){return n.find((function(n){return n.index===e.index}))})),i=n[t],r=i.findIndex((function(n){return n.index===e.index}));return m(Object(o.a)(i.map((function(e){return e.value})).slice(r,i.length)))},h=function(e,n){Object(i.useEffect)((function(){return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}}),[e,n])},j=t(6),E=function(e){var n=e.card,t=e.activeCard,i=e.onMouseDown,a=e.onMouseUp,c=e.cursorState,u=c.isPressed&&n.isActive&&n.canMove,o=window.innerHeight/15,d=window.innerWidth/7,s=u?{y:c.mouseY+(t?o*Math.abs(t.cardPileIndex-n.cardPileIndex):-30),x:c.mouseX,z:99}:{y:Object(j.spring)(o+n.cardPileIndex*o),x:Object(j.spring)(d/1.8+n.pileIndex*d),z:1};return r.a.createElement(j.Motion,{key:n.index,style:s},(function(e){var t=e.x,c=e.y,o=e.z;return r.a.createElement("div",{onPointerDown:i.bind(null,n,t,c),onPointerUp:a.bind(null,n,t,c),"data-index":n.deckIndex,className:"card spades rank".concat(n.value," ").concat(n.isCheat?"is-cheat":""," ").concat(n.isActive?"is-active":""," ").concat(n.isEmpty?"empty":""," ").concat(u?"disable-touch":""),style:{transform:"translate3d(".concat(t,"px, ").concat(c,"px, 0)"),zIndex:o}},r.a.createElement("div",{className:"face"}))}))},O=(t(77),{startX:0,startY:0,mouseY:0,mouseX:0});var g=function(){var e=Object(i.useState)(null),n=Object(d.a)(e,2),t=n[0],a=n[1],c=Object(i.useState)(O),s=Object(d.a)(c,2),f=s[0],m=s[1],j=Object(i.useState)(Object(o.a)(p()(l()(x).map((function(e,n){return{value:e,index:n}})),6))),g=Object(d.a)(j,2),y=g[0],w=g[1],M=y.flat(),Y=function(e,n,i,r){var c=r.pageX,u=r.pageY;t?(w(v(y,t,e)),a(null)):e.isActive||!e.canMove||!t&&e.isEmpty?a(null):a(e),m({topDeltaY:u-i,topDeltaX:c-n,mouseY:i,mouseX:n,startX:c,startY:u,isPressed:!0,pressedIndex:e.deckIndex})},X=function(e,n,i,r){var a=document.elementFromPoint(r.clientX,r.clientY);if(a&&a.parentElement){var c=+a.parentElement.dataset.index;e=M[c]}t&&e&&w(v(y,t,e))};return h("pointerup",(function(e){var n=Math.abs(f.startX-e.pageX),i=Math.abs(f.startY-e.pageY);t&&f.pressedIndex&&n<10&&i<10||a(null),m(Object(u.a)({},f,{isPressed:!1,pressedIndex:null,topDeltaY:0}))})),h("pointermove",(function(e){var n=e.pageY,t=e.pageX,i=f.isPressed,r=f.topDeltaY,a=f.topDeltaX;if(i){var c=n-r,o=t-a;m(Object(u.a)({},f,{mouseY:c,mouseX:o}))}})),y.map((function(e,n){return 0===e.length?r.a.createElement(E,{key:"pile-".concat(n),card:{cardPileIndex:0,pileIndex:n,isEmpty:!0,canMove:!0},onMouseUp:X,cursorState:f,onMouseDown:Y}):e.map((function(e,i){return r.a.createElement(E,{key:"card-".concat(e.index),card:Object(u.a)({},e,{isActive:b(t,e,y),canMove:I(e,y),deckIndex:M.findIndex((function(n){return n.index===e.index})),pileIndex:n,cardPileIndex:i}),activeCard:t,cursorState:f,onMouseUp:X,onMouseDown:Y})}))}))};c.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.667048f8.chunk.js.map