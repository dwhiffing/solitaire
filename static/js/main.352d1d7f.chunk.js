(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],{31:function(e,n,t){e.exports=t(78)},77:function(e,n,t){},78:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(28),c=t.n(i),s=t(1),u=t(6),d=t(7),o=t(29),l=t.n(o),p=t(30),x=t.n(p),f="987654321".split("").map((function(e){return Number(e)})).map((function(e){return[{value:e,suit:0},{value:e,suit:1},{value:e,suit:2},{value:e,suit:3}]})).flat(),m=function(e){return e.filter((function(n,t){return!e[t+1]||n===e[t+1]+1})).length===e.length},v=function(e,n,t){var a=b(n,e),r=a.length-n.cardPileIndex,i=1===r&&!n.isCheat&&!t.isCheat,c=n.value!==t.value-1&&!t.isEmpty,d=a.slice(n.cardPileIndex,n.cardPileIndex+r),o=t.isEmpty||!t.isCheat&&m([t.value].concat(Object(u.a)(d.map((function(e){return e.value})))));return e.map((function(e){if(e.pileIndex!==n.pileIndex||n.pileIndex===t.pileIndex)return e;if(!d.map((function(e){return e.index})).includes(e.index))return e;if((o||i)&&!Number.isNaN(t.pileIndex)){var a=t.cardPileIndex+d.findIndex((function(n){return n.index===e.index}))+1;return Object(s.a)({},e,{pileIndex:t.pileIndex,cardPileIndex:a,isCheat:c})}return e}))};function I(e,n){var t=!1;return e&&(t=e.pileIndex===n.pileIndex&&e.cardPileIndex<=n.cardPileIndex),t}var b=function(e,n){return n.filter((function(n){return n.pileIndex===e.pileIndex})).sort((function(e,n){return e.cardPileIndex-n.cardPileIndex}))},P=function(e,n){var t=b(e,n),a=t.map((function(e){return e.value})).slice(e.cardPileIndex,t.length);return m(a)},h=function(e,n){Object(a.useEffect)((function(){return window.addEventListener(e,n),function(){return window.removeEventListener(e,n)}}),[e,n])},E=t(2),g=["spades","clubs","hearts","diamonds"],j=function(e){var n=e.card,t=e.activeCard,a=e.onMouseDown,i=e.onMouseUp,c=e.cursorState,s=c.isPressed&&n.isActive&&n.canMove,u=window.innerHeight/14,d=window.innerWidth/6.2,o=s?u*Math.abs(t.cardPileIndex-n.cardPileIndex):0,l=Object(E.spring)(n.isCheat?22:0),p=Object(E.spring)(n.isActive?1.185:1),x=c.mouseX,f=c.mouseY,m=d/4+n.pileIndex*d,v=n.isEmpty?u:u+n.cardPileIndex*u,I=s?x:Object(E.spring)(m),b=s?f+o:Object(E.spring)(v);return r.a.createElement(E.Motion,{style:{x:I,y:b,r:l,s:p}},(function(e){var t=e.x,c=e.y,u=e.r,d=e.s;return r.a.createElement("div",{onPointerDown:a.bind(null,n,t,c),onPointerUp:i.bind(null,n,t,c),"data-index":n.index,"data-pileindex":n.pileIndex||0,className:"card ".concat(g[n.suit]," rank").concat(n.value," ").concat(s?"disable-touch":""," ").concat(n.isEmpty?"empty":""),style:{transform:"translate3d(".concat(t,"px, ").concat(c,"px, 0) rotate(").concat(u,"deg) scale(").concat(d,")"),zIndex:s?35+n.cardPileIndex:n.cardPileIndex}},r.a.createElement("div",{className:"face"}))}))},O=(t(77),{startX:0,startY:0,mouseY:0,mouseX:0});var y=function(){var e=Object(a.useState)(null),n=Object(d.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)(O),o=Object(d.a)(c,2),p=o[0],m=o[1],E=Object(a.useState)(Object(u.a)(x()(l()(f),6).map((function(e,n){return e.map((function(e,t){return Object(s.a)({},e,{cardPileIndex:t,pileIndex:n})}))})).flat().map((function(e,n){return Object(s.a)({},e,{index:n})})))),g=Object(d.a)(E,2),y=g[0],M=g[1],Y=function(e,n,a,r){var c=r.pageX,s=r.pageY;t?(M(v(y,t,e)),i(null)):e.isActive||!e.canMove||!t&&e.isEmpty?i(null):i(e),m({topDeltaY:s-a,topDeltaX:c-n,mouseY:a,mouseX:n,startX:c,startY:s,isPressed:!0,pressedIndex:e.index})},X=function(e,n,a,r){var i=Math.abs(p.startX-r.pageX),c=Math.abs(p.startY-r.pageY);if(t&&"number"===typeof p.pressedIndex&&(i>10||c>10)){var u=function(e,n,t){var a,r=document.elementFromPoint(e,n);if(r&&r.parentElement){var i=r.parentElement.dataset.index;if(i)a=t[+i];else{var c={cardPileIndex:-1,pileIndex:+r.parentElement.dataset.pileindex,isEmpty:!0,canMove:!0};0===b(c,t).length&&(a=Object(s.a)({},c))}}if(a&&!a.isEmpty){var u=b(a,t);a=u[u.length-1]}return a}(r.clientX,r.clientY,y);t&&u&&M(v(y,t,u))}};return h("pointerup",(function(e){var n=Math.abs(p.startX-e.pageX),a=Math.abs(p.startY-e.pageY);t&&"number"===typeof p.pressedIndex&&n<10&&a<10||i(null),m(Object(s.a)({},p,{isPressed:!1,pressedIndex:null,topDeltaY:0}))})),h("pointermove",(function(e){var n=e.pageY,t=e.pageX,a=p.isPressed,r=p.topDeltaY,i=p.topDeltaX;if(a){var c=n-r,u=t-i;m(Object(s.a)({},p,{mouseY:c,mouseX:u}))}})),r.a.createElement("div",null,[0,1,2,3,4,5].map((function(e){return r.a.createElement(j,{key:"pile-".concat(e),card:{cardPileIndex:-1,pileIndex:e,isEmpty:!0,canMove:!0},onMouseUp:X,cursorState:p,onMouseDown:Y})})),y.map((function(e,n){return r.a.createElement(j,{key:"card-".concat(n),card:Object(s.a)({},e,{isCheat:!!e.isCheat,isActive:I(t,e),canMove:P(e,y),pileIndex:e.pileIndex,cardPileIndex:e.cardPileIndex}),activeCard:t,cursorState:p,onMouseUp:X,onMouseDown:Y})})))};c.a.render(r.a.createElement(y,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.352d1d7f.chunk.js.map